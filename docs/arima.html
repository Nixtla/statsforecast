---

title: ARIMA


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/arima.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/arima.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arima</span><span class="p">(</span><span class="n">ap</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">seasonal</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">},</span> 
      <span class="n">include_mean</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;CSS-ML&#39;</span><span class="p">)[</span><span class="s1">&#39;coef&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="predict_arima" class="doc_header"><code>predict_arima</code><a href="https://github.com/Nixtla/statsforecast/tree/main/statsforecast/arima.py#L1044" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>predict_arima</code>(<strong><code>model</code></strong>, <strong><code>n_ahead</code></strong>, <strong><code>newxreg</code></strong>=<em><code>None</code></em>, <strong><code>se_fit</code></strong>=<em><code>True</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">predict_arima</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">predict_arima</span><span class="p">(</span><span class="n">res_intercept</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">newdrift</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">size</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ap</span><span class="o">.</span><span class="n">size</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">newxreg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">newdrift</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">newdrift</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">predict_arima</span><span class="p">(</span><span class="n">res_xreg</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">newxreg</span><span class="o">=</span><span class="n">newxreg</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myarima</span><span class="p">(</span><span class="n">ap</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">seasonal</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">},</span> 
        <span class="n">constant</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ic</span><span class="o">=</span><span class="s1">&#39;aicc&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;CSS-ML&#39;</span><span class="p">)[</span><span class="s1">&#39;aic&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="arima_string" class="doc_header"><code>arima_string</code><a href="https://github.com/Nixtla/statsforecast/tree/main/statsforecast/arima.py#L1342" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>arima_string</code>(<strong><code>model</code></strong>, <strong><code>padding</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="forecast_arima" class="doc_header"><code>forecast_arima</code><a href="https://github.com/Nixtla/statsforecast/tree/main/statsforecast/arima.py#L1374" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>forecast_arima</code>(<strong><code>model</code></strong>, <strong><code>h</code></strong>=<em><code>None</code></em>, <strong><code>level</code></strong>=<em><code>None</code></em>, <strong><code>fan</code></strong>=<em><code>False</code></em>, <strong><code>xreg</code></strong>=<em><code>None</code></em>, <strong><code>blambda</code></strong>=<em><code>None</code></em>, <strong><code>bootstrap</code></strong>=<em><code>False</code></em>, <strong><code>npaths</code></strong>=<em><code>5000</code></em>, <strong><code>biasadj</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fitted_arima" class="doc_header"><code>fitted_arima</code><a href="https://github.com/Nixtla/statsforecast/tree/main/statsforecast/arima.py#L1461" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fitted_arima</code>(<strong><code>model</code></strong>, <strong><code>h</code></strong>=<em><code>1</code></em>)</p>
</blockquote>
<p>Returns h-step forecasts for the data used in fitting the model.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="auto_arima_f" class="doc_header"><code>auto_arima_f</code><a href="https://github.com/Nixtla/statsforecast/tree/main/statsforecast/arima.py#L1639" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>auto_arima_f</code>(<strong><code>x</code></strong>, <strong><code>d</code></strong>=<em><code>None</code></em>, <strong><code>D</code></strong>=<em><code>None</code></em>, <strong><code>max_p</code></strong>=<em><code>5</code></em>, <strong><code>max_q</code></strong>=<em><code>5</code></em>, <strong><code>max_P</code></strong>=<em><code>2</code></em>, <strong><code>max_Q</code></strong>=<em><code>2</code></em>, <strong><code>max_order</code></strong>=<em><code>5</code></em>, <strong><code>max_d</code></strong>=<em><code>2</code></em>, <strong><code>max_D</code></strong>=<em><code>1</code></em>, <strong><code>start_p</code></strong>=<em><code>2</code></em>, <strong><code>start_q</code></strong>=<em><code>2</code></em>, <strong><code>start_P</code></strong>=<em><code>1</code></em>, <strong><code>start_Q</code></strong>=<em><code>1</code></em>, <strong><code>stationary</code></strong>=<em><code>False</code></em>, <strong><code>seasonal</code></strong>=<em><code>True</code></em>, <strong><code>ic</code></strong>=<em><code>'aicc'</code></em>, <strong><code>stepwise</code></strong>=<em><code>True</code></em>, <strong><code>nmodels</code></strong>=<em><code>94</code></em>, <strong><code>trace</code></strong>=<em><code>False</code></em>, <strong><code>approximation</code></strong>=<em><code>None</code></em>, <strong><code>method</code></strong>=<em><code>None</code></em>, <strong><code>truncate</code></strong>=<em><code>None</code></em>, <strong><code>xreg</code></strong>=<em><code>None</code></em>, <strong><code>test</code></strong>=<em><code>'kpss'</code></em>, <strong><code>test_kwargs</code></strong>=<em><code>None</code></em>, <strong><code>seasonal_test</code></strong>=<em><code>'seas'</code></em>, <strong><code>seasonal_test_kwargs</code></strong>=<em><code>None</code></em>, <strong><code>allowdrift</code></strong>=<em><code>True</code></em>, <strong><code>allowmean</code></strong>=<em><code>True</code></em>, <strong><code>blambda</code></strong>=<em><code>None</code></em>, <strong><code>biasadj</code></strong>=<em><code>False</code></em>, <strong><code>parallel</code></strong>=<em><code>False</code></em>, <strong><code>num_cores</code></strong>=<em><code>2</code></em>, <strong><code>period</code></strong>=<em><code>1</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="print_statsforecast_ARIMA" class="doc_header"><code>print_statsforecast_ARIMA</code><a href="https://github.com/Nixtla/statsforecast/tree/main/statsforecast/arima.py#L2110" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>print_statsforecast_ARIMA</code>(<strong><code>model</code></strong>, <strong><code>digits</code></strong>=<em><code>3</code></em>, <strong><code>se</code></strong>=<em><code>True</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ARIMASummary" class="doc_header"><code>class</code> <code>ARIMASummary</code><a href="https://github.com/Nixtla/statsforecast/tree/main/statsforecast/arima.py#L2136" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ARIMASummary</code>(<strong><code>model</code></strong>)</p>
</blockquote>
<p>ARIMA Summary.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AutoARIMA" class="doc_header"><code>class</code> <code>AutoARIMA</code><a href="https://github.com/Nixtla/statsforecast/tree/main/statsforecast/arima.py#L2149" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AutoARIMA</code>(<strong><code>d</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>, <strong><code>D</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>, <strong><code>max_p</code></strong>:<code>int</code>=<em><code>5</code></em>, <strong><code>max_q</code></strong>:<code>int</code>=<em><code>5</code></em>, <strong><code>max_P</code></strong>:<code>int</code>=<em><code>2</code></em>, <strong><code>max_Q</code></strong>:<code>int</code>=<em><code>2</code></em>, <strong><code>max_order</code></strong>:<code>int</code>=<em><code>5</code></em>, <strong><code>max_d</code></strong>:<code>int</code>=<em><code>2</code></em>, <strong><code>max_D</code></strong>:<code>int</code>=<em><code>1</code></em>, <strong><code>start_p</code></strong>:<code>int</code>=<em><code>2</code></em>, <strong><code>start_q</code></strong>:<code>int</code>=<em><code>2</code></em>, <strong><code>start_P</code></strong>:<code>int</code>=<em><code>1</code></em>, <strong><code>start_Q</code></strong>:<code>int</code>=<em><code>1</code></em>, <strong><code>stationary</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>seasonal</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>ic</code></strong>:<code>str</code>=<em><code>'aicc'</code></em>, <strong><code>stepwise</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>nmodels</code></strong>:<code>int</code>=<em><code>94</code></em>, <strong><code>trace</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>approximation</code></strong>:<code>Optional</code>[<code>bool</code>]=<em><code>None</code></em>, <strong><code>method</code></strong>:<code>Optional</code>[<code>str</code>]=<em><code>None</code></em>, <strong><code>truncate</code></strong>:<code>Optional</code>[<code>bool</code>]=<em><code>None</code></em>, <strong><code>test</code></strong>:<code>str</code>=<em><code>'kpss'</code></em>, <strong><code>test_kwargs</code></strong>:<code>Optional</code>[<code>str</code>]=<em><code>None</code></em>, <strong><code>seasonal_test</code></strong>:<code>str</code>=<em><code>'seas'</code></em>, <strong><code>seasonal_test_kwargs</code></strong>:<code>Optional</code>[<code>Dict</code>[<code>KT</code>, <code>VT</code>]]=<em><code>None</code></em>, <strong><code>allowdrift</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>allowmean</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>blambda</code></strong>:<code>Optional</code>[<code>float</code>]=<em><code>None</code></em>, <strong><code>biasadj</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>parallel</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>num_cores</code></strong>:<code>int</code>=<em><code>2</code></em>, <strong><code>period</code></strong>:<code>int</code>=<em><code>1</code></em>)</p>
</blockquote>
<p>An AutoARIMA estimator.</p>
<p>Returns best ARIMA model according to either AIC, AICc or BIC value.
The function conducts a search over possible model within the order constraints provided.</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>d: int optional (default None)
    Order of first-differencing.
    If missing, will choose a value based on <code>test</code>.
D: int optional (default None)
    Order of seasonal-differencing.
    If missing, will choose a value based on <code>season_test</code>.
max_p: int (default 5)
    Maximum value of p.
max_q: int (default 5)
    Maximum value of q.
max_P: int (default 2)
    Maximum value of P.
max_Q: int (default 2)
    Maximum value of Q.
max_order: int (default 5)
    Maximum value of p+q+P+Q if model selection is not stepwise.
max_d: int (default 2)
    Maximum number of non-seasonal differences
max_D: int (default 1)
    Maximum number of seasonal differences
start_p: int (default 2)
    Starting value of p in stepwise procedure.
start_q: int (default 2)
    Starting value of q in stepwise procedure.
start_P: int (default 1)
    Starting value of P in stepwise procedure.
start_Q: int (default 1)
    Starting value of Q in stepwise procedure.
stationary: bool (default False)
    If True, restricts search to stationary models.
seasonal: bool (default True)
    If False, restricts search to non-seasonal models.
ic: str (default 'aicc')
    Information criterion to be used in model selection.
stepwise: bool (default True)
    If True, will do stepwise selection (faster).
    Otherwise, it searches over all models.
    Non-stepwise selection can be very slow,
    especially for seasonal models.
nmodels: int (default 94)
    Maximum number of models considered in the stepwise search.
trace: bool (default False)
    If True, the list of ARIMA models considered will be reported.
approximation: bool optional (default None)
    If True, estimation is via conditional sums of squares
    and the information criteria used for model
    selection are approximated.
    The final model is still computed using
    maximum likelihood estimation.
    Approximation should be used for long time series
    or a high seasonal period to avoid excessive computation times.
method: str optional (default None)
    fitting method: maximum likelihood or minimize conditional
    sum-of-squares.
    The default (unless there are missing values)
    is to use conditional-sum-of-squares to find starting values,
    then maximum likelihood. Can be abbreviated.
truncate: bool optional (default None)
    An integer value indicating how many observations
    to use in model selection.
    The last truncate values of the series are
    used to select a model when truncate is not None
    and approximation=True.
    All observations are used if either truncate=None
    or approximation=False.
test: str (default 'kpss')
    Type of unit root test to use. See ndiffs for details.
test_kwargs: str optional (default None)
    Additional arguments to be passed to the unit root test.
seasonal_test: str (default 'seas')
    This determines which method is used to select the number
    of seasonal differences.
    The default method is to use a measure of seasonal
    strength computed from an STL decomposition.
    Other possibilities involve seasonal unit root tests.
seasonal_test_kwargs: dict optional (default None)
    Additional arguments to be passed to the seasonal
    unit root test. See nsdiffs for details.
allowdrift: bool (default True)
    If True, models with drift terms are considered.
allowmean: bool (default True)
    If True, models with a non-zero mean are considered.
blambda: float optional (default None)
    Box-Cox transformation parameter.
    If lambda="auto", then a transformation is automatically
    selected using BoxCox.lambda.
    The transformation is ignored if None.
    Otherwise, data transformed before model is estimated.
biasadj: bool (default False)
    Use adjusted back-transformed mean for Box-Cox transformations.
    If transformed data is used to produce forecasts and fitted values,
    a regular back transformation will result in median forecasts.
    If biasadj is True, an adjustment will be made to produce
    mean forecasts and fitted values.
parallel: bool (default False)
    If True and stepwise = False, then the specification search
    is done in parallel.
    This can give a significant speedup on multicore machines.
num_cores: int (default 2)
    Allows the user to specify the amount of parallel processes to be used
    if parallel = True and stepwise = False.
    If None, then the number of logical cores is
    automatically detected and all available cores are used.
period: int (default 1)
    Number of observations per unit of time.
    For example 24 for Hourly data.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><ul>
<li>This implementation is a mirror of Hyndman's forecast::auto.arima.</li>
</ul>
<h2 id="References">References<a class="anchor-link" href="#References"> </a></h2><p>[1] <a href="https://github.com/robjhyndman/forecast">https://github.com/robjhyndman/forecast</a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

